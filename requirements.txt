# Production-optimized dependencies for Qwen3 Reranker API

# Build tools (required for flash_attn compilation)
packaging>=21.0
ninja>=1.10.2
wheel>=0.38.0
setuptools>=65.0

# Core ML dependencies (pinned for stability)
numpy==1.24.4
torch>=2.1.0,<2.5.0

# Flash attention for GPU acceleration (installed separately from pre-built wheel in Dockerfile)
# flash-attn>=2.5.0,<2.7.0 ; python_version>="3.8" and platform_system=="Linux"

# ML frameworks and utilities
accelerate>=0.25.0
transformers>=4.36.0
safetensors>=0.4.0

# Web framework and ASGI server (pinned for production stability)
fastapi==0.104.1
uvicorn[standard]==0.24.0
pydantic==2.5.3
python-multipart==0.0.6

# Production performance optimizations
uvloop>=0.19.0
httptools>=0.6.1

# Monitoring and observability
prometheus-client==0.19.0

# Structured logging
structlog==23.2.0

# Security and validation
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
